<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hourly RFI Form</title>
<style>
:root{--bg:#f4f4f5;--card:#ffffff;--text:#18181b;--muted:#52525b;--border:#d4d4d8;--shadow:0 14px 40px rgba(24,24,27,.18);--primary:#27272a;--danger:#dc2626}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text);padding:24px}
.container{max-width:980px;margin:auto}
.header{background:#27272a;color:#fff;border-radius:16px;padding:18px;display:flex;justify-content:space-between;align-items:center}
.card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px;margin-top:16px}
label{display:block;font-size:12px;font-weight:800;color:var(--muted);margin-bottom:4px}
input,select{width:100%;height:42px;border-radius:10px;border:1px solid var(--border);padding:8px}
.grid{display:grid;gap:12px}
@media(min-width:700px){.two{grid-template-columns:1fr 1fr}}
.actions{display:flex;gap:10px;margin-top:12px}
button{height:42px;border-radius:10px;border:1px solid var(--border);background:#fff;font-weight:800;cursor:pointer}
.btn-primary{background:var(--primary);color:#fff;border:none}
.btn-danger{color:var(--danger)}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid var(--border);padding:10px;text-align:center;font-weight:700}
th{text-transform:uppercase;font-size:12px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center}
.modal.show{display:flex}
.modal-box{background:#fff;padding:20px;border-radius:14px;text-align:center}
</style>
</head>
<body>
<div class="container">
<div class="header"><h2 id="hdrTitle">Request for Information – Hourly Data</h2><div><button id="btnEN" class="btn-primary">EN</button><button id="btnES">ES</button></div></div>

<div class="card"><div class="grid two">
<div><label id="lblName">Name</label><input id="submittedBy"></div>
<div><label id="lblCompany">Company</label><input id="companyName"></div>
</div></div>

<div class="card"><div class="grid two">
<div><label id="lblProject">Project Name</label><input id="projectName"></div>
<div><label id="lblTask">Task Description</label><input id="taskDescription"></div>
<div><label id="lblDate">Date</label><input type="date" id="date"></div>
<div><label id="lblManpower">Manpower</label><select id="manpower"></select></div>
<div><label id="lblHPP">Hours Per Person</label><select id="hoursPerPerson"></select></div>
<div><label id="lblTotal">Total Hours</label><input id="totalHours" readonly></div>
</div>
<div class="actions">
<button class="btn-primary" onclick="addData()">Enter Data</button>
<button onclick="addMore()">Add More</button>
<button class="btn-primary" onclick="sendEmail()">Send</button>
</div></div>

<div class="card"><table id="dataTable"><thead><tr><th id="thDate">Date</th><th id="thMP">Manpower</th><th id="thHPP">Hours Per Person</th><th id="thTotal">Total Hours</th></tr></thead><tbody></tbody></table></div>

<div class="modal" id="successModal"><div class="modal-box"><h3 id="modalTitle">Info Submitted Successfully</h3><p id="modalQuestion">Would you like to add another project?</p><button class="btn-primary" onclick="location.reload()">Yes</button><button class="btn-danger" onclick="location.reload()">No I'm Done</button></div></div>
</div>

<script>
const strings={en:{hdr:'Request for Information – Hourly Data',name:'Name',company:'Company',project:'Project Name',task:'Task Description',date:'Date',mp:'Manpower',hpp:'Hours Per Person',total:'Total Hours',alertComplete:'Complete all fields',alertDup:'Duplicate date',alertNoData:'No data to send',morePrompt:'Enter number:'},es:{hdr:'Solicitud de Información – Datos Horarios',name:'Nombre',company:'Empresa',project:'Nombre del Proyecto',task:'Descripción de la Tarea',date:'Fecha',mp:'Personal',hpp:'Horas por Persona',total:'Horas Totales',alertComplete:'Complete todos los campos',alertDup:'Fecha duplicada',alertNoData:'No hay datos',morePrompt:'Ingrese número:'}};
let currentLang='en';

function setLang(l){currentLang=l;const s=strings[l];hdrTitle.innerText=s.hdr;lblName.innerText=s.name;lblCompany.innerText=s.company;lblProject.innerText=s.project;lblTask.innerText=s.task;lblDate.innerText=s.date;lblManpower.innerText=s.mp;lblHPP.innerText=s.hpp;lblTotal.innerText=s.total;thDate.innerText=s.date;thMP.innerText=s.mp;thHPP.innerText=s.hpp;thTotal.innerText=s.total;btnEN.className=l==='en'?'btn-primary':'';btnES.className=l==='es'?'btn-primary':''}
btnEN.onclick=()=>setLang('en');btnES.onclick=()=>setLang('es');setLang('en');

const manpower=document.getElementById('manpower');
const hpp=document.getElementById('hoursPerPerson');

function fillSelect(sel){sel.innerHTML='';for(let i=1;i<=50;i++){const o=document.createElement('option');o.value=i;o.text=i;sel.appendChild(o);}const m=document.createElement('option');m.value='MORE';m.text='MORE…';sel.appendChild(m);sel.onchange=()=>{if(sel.value==='MORE'){const n=prompt(strings[currentLang].morePrompt);if(!n||n<1){sel.selectedIndex=0;return;}const o=document.createElement('option');o.value=n;o.text=n;sel.insertBefore(o,m);sel.value=n;}computeTotal();}}
fillSelect(manpower);fillSelect(hpp);

function computeTotal(){totalHours.value=(manpower.value*hpp.value)||''}

function formatDate(d){const p=d.split('-');return p[1]+'-'+p[2]+'-'+p[0]}
function formatHours(v){return v==1?v+' HOUR':v+' HOURS'}

function addData(){const d=date.value,mp=manpower.value,h=hpp.value;if(!submittedBy.value||!companyName.value||!projectName.value||!taskDescription.value||!d||!mp||!h){alert(strings[currentLang].alertComplete);return;}if([...dataTable.tBodies[0].rows].some(r=>r.dataset.d===d)){alert(strings[currentLang].alertDup);return;}const tr=document.createElement('tr');tr.dataset.d=d;tr.innerHTML=`<td>${formatDate(d)}</td><td>${mp}</td><td>${formatHours(h)}</td><td>${formatHours(mp*h)}</td>`;dataTable.tBodies[0].appendChild(tr)}

function addMore(){addData();date.value='';manpower.selectedIndex=0;hpp.selectedIndex=0;totalHours.value=''}

function buildEmailText(){let t='DATE | MANPOWER | HOURS PER PERSON | TOTAL HOURS\n';[...dataTable.tBodies[0].rows].forEach(r=>{const c=r.cells;t+=`${c[0].innerText} | ${c[1].innerText} | ${c[2].innerText} | ${c[3].innerText}\n`});return t.toUpperCase()}

function sendEmail(){if(!dataTable.tBodies[0].rows.length){alert(strings[currentLang].alertNoData);return;}successModal.classList.add('show')}
</script>
</body>
</html>
